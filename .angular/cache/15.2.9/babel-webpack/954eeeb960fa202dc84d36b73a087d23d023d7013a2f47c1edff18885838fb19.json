{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/modules/tools/services/websocket.service\";\n;\nexport let ChatroomService = /*#__PURE__*/(() => {\n  var _class;\n  class ChatroomService {\n    /**\n     * @description:\n     */\n    constructor(wsService) {\n      this.wsService = wsService;\n      /**\n       * @description: The stream of data from the websocket\n       */\n      this.stream = new Subject();\n      this.setConfigWebsocket();\n    }\n    /**\n     * @description:\n     */\n    setConfigWebsocket() {\n      this.wsService.setConfig({\n        port: 4242,\n        pathname: 'ws/chatroom/?room=fr&fakeConnect=true',\n        service: this\n      });\n    }\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ##########################################[  RECEPT  ]#########################################################\n    /**\n     * @description:\n     */\n    recept__messages(data) {\n      this.stream.next({\n        event: 'messages',\n        data: data\n      });\n    }\n    /**\n     * @description:\n     */\n    recept__participants_counter(data) {\n      this.stream.next({\n        event: 'participants_counter',\n        data: data\n      });\n    }\n    /**\n     * @description:\n     */\n    recept__error(data) {}\n    /**\n     * @description:\n     */\n    recept__new_message(data) {\n      this.stream.next({\n        event: 'new_message',\n        data: data\n      });\n    }\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ###############################################################################################################\n    // ##########################################[  CALLS  ]##########################################################\n    /**\n     * @description:\n     */\n    call__create_personnal_room(room) {}\n    /**\n     * @description:\n     */\n    call__join_room(room) {\n      this.ws_connection?.wsService?.send(this.ws_connection, {\n        'join_room': room\n      });\n    }\n    /**\n     * @description:\n     */\n    call__leave_room(room) {}\n    /**\n     * @description:\n     */\n    call__delete_room(room) {}\n    /**\n     * @description:\n     */\n    call__edit_room(room) {}\n    /**\n     * @description:\n     */\n    call__fetch_all_rooms() {}\n    /**\n     * @description:\n     */\n    call__get_messages(room) {}\n    /**\n     * @description:\n     */\n    call__send_message(message) {\n      this.ws_connection?.wsService?.send(this.ws_connection, {\n        'new_message': message\n      });\n    }\n  }\n  _class = ChatroomService;\n  _class.ɵfac = function ChatroomService_Factory(t) {\n    return new (t || _class)(i0.ɵɵinject(i1.WebsocketService));\n  };\n  _class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: _class,\n    factory: _class.ɵfac,\n    providedIn: 'root'\n  });\n  return ChatroomService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}