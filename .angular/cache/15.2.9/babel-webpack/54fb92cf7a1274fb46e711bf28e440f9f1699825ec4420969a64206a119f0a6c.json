{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport { CapsuleTime } from 'src/app/services/playroom.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/modules/profile/services/user.service\";\nimport * as i2 from \"src/app/services/playroom.service\";\nimport * as i3 from \"src/app/services/balance.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../tools/first-letter-bold-text/first-letter-bold-text.component\";\nimport * as i6 from \"../../tools/luck-letter/luck-letter.component\";\nimport * as i7 from \"../../tickets/tickets-draw/tickets-draw.component\";\nfunction CentralButtonComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ul\", 2)(2, \"li\", 3);\n    i0.ɵɵlistener(\"mouseenter\", function CentralButtonComponent_ng_container_1_Template_li_mouseenter_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.mouseEnter(\"login\"));\n    })(\"mouseleave\", function CentralButtonComponent_ng_container_1_Template_li_mouseleave_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.mouseLeave(\"login\"));\n    })(\"click\", function CentralButtonComponent_ng_container_1_Template_li_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.general_click(\"login\"));\n    });\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵelement(4, \"app-first-letter-bold-text\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\", 3);\n    i0.ɵɵlistener(\"mouseenter\", function CentralButtonComponent_ng_container_1_Template_li_mouseenter_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.mouseEnter(\"signup\"));\n    })(\"mouseleave\", function CentralButtonComponent_ng_container_1_Template_li_mouseleave_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.mouseLeave(\"signup\"));\n    })(\"click\", function CentralButtonComponent_ng_container_1_Template_li_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.general_click(\"signup\"));\n    });\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelement(7, \"app-first-letter-bold-text\", 7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"animate\", ctx_r0.animate.login);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"animate\", ctx_r0.animate.signup);\n  }\n}\nfunction CentralButtonComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵlistener(\"mouseenter\", function CentralButtonComponent_ng_container_2_Template_div_mouseenter_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.mouseEnter(\"deposit_fund\"));\n    })(\"mouseleave\", function CentralButtonComponent_ng_container_2_Template_div_mouseleave_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.mouseLeave(\"deposit_fund\"));\n    })(\"click\", function CentralButtonComponent_ng_container_2_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.general_click(\"deposit_fund\"));\n    });\n    i0.ɵɵelement(2, \"app-first-letter-bold-text\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"animate\", ctx_r1.animate.deposit_fund);\n  }\n}\nfunction CentralButtonComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵlistener(\"mouseenter\", function CentralButtonComponent_ng_container_3_Template_div_mouseenter_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.mouseEnter(\"choose_your_bet\"));\n    })(\"mouseleave\", function CentralButtonComponent_ng_container_3_Template_div_mouseleave_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.mouseLeave(\"choose_your_bet\"));\n    })(\"click\", function CentralButtonComponent_ng_container_3_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.general_click(\"choose_your_bet\"));\n    });\n    i0.ɵɵelement(2, \"app-first-letter-bold-text\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"animate\", ctx_r2.animate.choose_your_bet);\n  }\n}\nfunction CentralButtonComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵlistener(\"mouseenter\", function CentralButtonComponent_ng_container_4_Template_div_mouseenter_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.mouseEnter(\"play_select_token\"));\n    })(\"mouseleave\", function CentralButtonComponent_ng_container_4_Template_div_mouseleave_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.mouseLeave(\"play_select_token\"));\n    })(\"click\", function CentralButtonComponent_ng_container_4_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.general_click(\"play_select_token\"));\n    });\n    i0.ɵɵelement(2, \"app-luck-letter\", 11)(3, \"app-first-letter-bold-text\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"animate\", ctx_r3.animate.play_select_token);\n  }\n}\nfunction CentralButtonComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵelement(2, \"app-first-letter-bold-text\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CentralButtonComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-tickets-draw\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class CentralButtonComponent {\n  /**\n   * @description:\n   */\n  constructor(user_service, playroom_service, balance_service) {\n    this.user_service = user_service;\n    this.playroom_service = playroom_service;\n    this.balance_service = balance_service;\n    /**\n     * @description:\n     */\n    this.caps = new CapsuleTime();\n    /**\n     * @description:\n     */\n    this.balance = 0;\n    /**\n     * @description:\n     */\n    this.bet = 0;\n    /**\n     * @description:\n     */\n    this.balance_amount = 0;\n    /**\n     * @description:\n     */\n    this.lotery_ticket = [];\n    /**\n     * @description:\n     */\n    this.click = new EventEmitter();\n    /**\n     * @description: The different state of the button.\n     * @state.not_authenticated: The user is not authenticated.\n     * @state.deposit_fund: The user is authenticated and has not deposited any fund.\n     * @state.choose_your_bet: The user has deposited fund and has not selected any bet.\n     * @state.bet_has_selected: The user has selected a bet.\n     * @state.playrun: The play is running.\n     */\n    // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'not_authenticated';\n    // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'deposit_fund';\n    // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'choose_your_bet';\n    // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'bet_has_selected';\n    this.state = 'null';\n    /**\n     * @description:\n     */\n    this.animate = {\n      login: false,\n      signup: false,\n      deposit_fund: false,\n      choose_your_bet: false,\n      play_select_token: false\n    };\n  }\n  /**\n   * @description:\n   */\n  click_central_button() {\n    this.click.emit();\n  }\n  /**\n   * @description:\n   */\n  is_not_authenticated() {\n    return this.state === 'not_authenticated';\n  }\n  /**\n   * @description:\n   */\n  is_deposit_fund() {\n    return this.state === 'deposit_fund';\n  }\n  /**\n   * @description:\n   */\n  is_choose_your_bet() {\n    return this.state === 'choose_your_bet';\n  }\n  /**\n   * @description:\n   */\n  is_bet_has_selected() {\n    return this.state === 'bet_has_selected';\n  }\n  /**\n   * @description:\n   */\n  is_playrun() {\n    return this.state === 'playrun';\n  }\n  /**\n   * @description:\n   */\n  is_null() {\n    return this.state === 'null';\n  }\n  /**\n   * @description:\n   */\n  ngOnInit() {\n    this.bindUserStream();\n  }\n  /**\n   * @description:\n   */\n  mouseEnter(type) {\n    if (this.animate[type] === undefined) {\n      console.error(`animate[${type}] is undefined`);\n      return;\n    }\n    this.animate[type] = true;\n  }\n  /**\n   * @description:\n   */\n  mouseLeave(type) {\n    if (this.animate[type] === undefined) {\n      console.error(`animate[${type}] is undefined`);\n      return;\n    }\n    this.animate[type] = false;\n  }\n  /**\n   * @description:\n   */\n  general_click(type) {\n    switch (type) {\n      case 'login':\n        this.user_service.redirectToLogin__IfLogout();\n        break;\n      case 'signup':\n        this.user_service.redirectToSignup__IfLogout();\n        break;\n      case 'deposit_fund':\n        alert('deposit_fund');\n        break;\n      case 'choose_your_bet':\n        alert('choose_your_bet');\n        break;\n      case 'play_select_token':\n        alert('play_select_token');\n        break;\n      default:\n        console.error(`type[${type}] is not defined`);\n        break;\n    }\n  }\n  /**\n   * @description:\n   */\n  update_state() {\n    // this.state = 'playrun';\n    // return;\n    if (!this.user_service.data_is_loaded()) {\n      this.state = 'null';\n      return;\n    }\n    if (!this.user_service.is_authenticated()) {\n      this.state = 'not_authenticated';\n      return;\n    }\n    // -> verify if the user has deposited the minimum amount, to play\n    if (!this.balance_service.hasSuffisantMoney(this.lotery_ticket[0])) {\n      this.state = 'deposit_fund';\n      return;\n    } else if (this.caps.moment_to_play()) {\n      // TODO: Add the event bet selected to the playroom service\n      // TODO: Delete this \n      setTimeout(() => {\n        this.playroom_service.send_selected_ticket({\n          value: 100\n        });\n      }, 1000);\n      this.state = 'choose_your_bet';\n      // this.state = 'bet_has_selected';\n      return;\n    } else if (this.caps.random_draw()) {\n      this.state = 'playrun';\n      return;\n    }\n    // -> selected bet\n    // this.state = ''\n  }\n  /**\n   * @description:\n   */\n  ngOnChanges() {\n    this.update_state();\n  }\n  /**\n   * @description:\n   */\n  bindUserStream() {\n    this.user_service.stream.subscribe(user => {\n      this.update_state();\n    });\n  }\n}\n_class = CentralButtonComponent;\n_class.ɵfac = function CentralButtonComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.PlayroomService), i0.ɵɵdirectiveInject(i3.BalanceService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-central-button\"]],\n  inputs: {\n    caps: \"caps\",\n    balance: \"balance\",\n    bet: \"bet\",\n    balance_amount: \"balance_amount\",\n    lotery_ticket: \"lotery_ticket\"\n  },\n  outputs: {\n    click: \"click\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 7,\n  vars: 6,\n  consts: [[1, \"central_button\", 3, \"click\"], [4, \"ngIf\"], [1, \"_50percent_divided\"], [3, \"mouseenter\", \"mouseleave\", \"click\"], [1, \"centered_vertical\", \"login_container\"], [\"text\", \"Login\", 3, \"animate\"], [1, \"centered_vertical\"], [\"text\", \"Signup\", 3, \"animate\"], [1, \"full_container\", 3, \"mouseenter\", \"mouseleave\", \"click\"], [\"text\", \"Deposit fund\", 3, \"animate\"], [\"text\", \"Choose your bet\", 3, \"animate\"], [\"balance\", \"central_menu_version\"], [\"text\", \"Play 100\", 3, \"animate\"], [1, \"full_container\"], [\"text\", \"Load ...\"]],\n  template: function CentralButtonComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"click\", function CentralButtonComponent_Template_div_click_0_listener() {\n        return ctx.click_central_button();\n      });\n      i0.ɵɵtemplate(1, CentralButtonComponent_ng_container_1_Template, 8, 2, \"ng-container\", 1);\n      i0.ɵɵtemplate(2, CentralButtonComponent_ng_container_2_Template, 3, 1, \"ng-container\", 1);\n      i0.ɵɵtemplate(3, CentralButtonComponent_ng_container_3_Template, 3, 1, \"ng-container\", 1);\n      i0.ɵɵtemplate(4, CentralButtonComponent_ng_container_4_Template, 4, 1, \"ng-container\", 1);\n      i0.ɵɵtemplate(5, CentralButtonComponent_ng_container_5_Template, 3, 0, \"ng-container\", 1);\n      i0.ɵɵtemplate(6, CentralButtonComponent_ng_container_6_Template, 2, 0, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_not_authenticated());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_deposit_fund());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_choose_your_bet());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_bet_has_selected());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_null());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.is_playrun());\n    }\n  },\n  dependencies: [i4.NgIf, i5.FirstLetterBoldTextComponent, i6.LuckLetterComponent, i7.TicketsDrawComponent],\n  styles: [\".central_button[_ngcontent-%COMP%] {\\n  background: linear-gradient(90deg, #e00668 0%, #f5323b 100%);\\n  height: 100px;\\n  border-radius: 20px;\\n  cursor: pointer;\\n}\\n.central_button[_ngcontent-%COMP%]   ._50percent_divided[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n}\\n.central_button[_ngcontent-%COMP%]   ._50percent_divided[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  width: 49%;\\n  display: flex;\\n  height: 100%;\\n}\\n.central_button[_ngcontent-%COMP%]   ._50percent_divided[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .centered_vertical[_ngcontent-%COMP%] {\\n  align-self: center;\\n  text-align: center;\\n  color: white;\\n  font-size: 1.5em;\\n  width: 100%;\\n}\\n.central_button[_ngcontent-%COMP%]   .full_container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: white;\\n  font-size: 1.5em;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmF2L2NlbnRyYWwtYnV0dG9uL2NlbnRyYWwtYnV0dG9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksNERBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBQUo7QUFFSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQUFSO0FBRVE7RUFDSSxVQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7QUFBWjtBQUVZO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFBaEI7QUFLSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFIUiIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50cmFsX2J1dHRvbiB7XG4gICAgLy8gZ3JhZGllbnQgYmFja3JvdW5kIFxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgI2UwMDY2OGZmIDAlLCAjZjUzMjNiZmYgMTAwJSk7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgIC5fNTBwZXJjZW50X2RpdmlkZWQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgICAgIGxpIHtcbiAgICAgICAgICAgIHdpZHRoOiA0OSU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgICAgICAgICAuY2VudGVyZWRfdmVydGljYWwge1xuICAgICAgICAgICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41ZW07XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZnVsbF9jb250YWluZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDEuNWVtO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","CapsuleTime","i0","CentralButtonComponent","constructor","user_service","playroom_service","balance_service","login","signup","deposit_fund","choose_your_bet","play_select_token","click_central_button","click","emit","is_not_authenticated","state","is_deposit_fund","is_choose_your_bet","is_bet_has_selected","is_playrun","is_null","ngOnInit","bindUserStream","mouseEnter","type","animate","undefined","console","error","mouseLeave","general_click","redirectToLogin__IfLogout","redirectToSignup__IfLogout","alert","update_state","data_is_loaded","is_authenticated","hasSuffisantMoney","lotery_ticket","caps","moment_to_play","setTimeout","send_selected_ticket","value","random_draw","ngOnChanges","stream","subscribe","user","selectors","inputs","balance","bet","balance_amount","outputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/var/projects/gtender/client2/src/app/nav/central-button/central-button.component.ts","/var/projects/gtender/client2/src/app/nav/central-button/central-button.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { OnChanges } from '@angular/core';\nimport { UserService } from 'src/modules/profile/services/user.service';\nimport { CapsuleTime } from 'src/app/services/playroom.service';\nimport { PlayroomService } from 'src/app/services/playroom.service';\nimport { BalanceService } from 'src/app/services/balance.service';\n\n@Component({\n  selector: 'app-central-button',\n  templateUrl: './central-button.component.html',\n  styleUrls: ['./central-button.component.scss']\n})\nexport class CentralButtonComponent implements OnChanges {\n  /**\n   * @description:\n   */\n  @Input() \n  public caps: CapsuleTime = new CapsuleTime();\n\n  /**\n   * @description: \n   */\n  @Input()\n  public balance: number = 0;\n\n  /**\n   * @description: \n   */\n  @Input() \n  public bet: number = 0;\n\n  /**\n   * @description: \n   */\n  @Input()\n  public balance_amount: number = 0;\n\n  /**\n   * @description:\n   */\n  @Input()\n  public lotery_ticket: Array<number> = [];\n\n  /**\n   * @description: \n   */\n  @Output() click = new EventEmitter<void>();\n\n  /**\n   * @description: The different state of the button.\n   * @state.not_authenticated: The user is not authenticated.\n   * @state.deposit_fund: The user is authenticated and has not deposited any fund.\n   * @state.choose_your_bet: The user has deposited fund and has not selected any bet.\n   * @state.bet_has_selected: The user has selected a bet.\n   * @state.playrun: The play is running.\n   */\n  // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'not_authenticated';\n  // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'deposit_fund';\n  // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'choose_your_bet';\n  // public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' = 'bet_has_selected';\n  public state: 'not_authenticated' | 'deposit_fund' | 'choose_your_bet' | 'bet_has_selected' | 'playrun' | 'null' = 'null';\n\n  /**\n   * @description: \n   */\n  public animate: any = {\n    login: false,\n    signup: false,\n    deposit_fund: false,\n    choose_your_bet: false,\n    play_select_token: false,\n  };\n\n  /**\n   * @description: \n   */\n  public constructor(\n    public user_service: UserService,\n    public playroom_service: PlayroomService,\n    public balance_service: BalanceService,\n  ) {\n  }\n\n  /**\n   * @description: \n   */\n  public click_central_button(): void {\n    this.click.emit();\n  }\n\n  /**\n   * @description: \n   */\n  public is_not_authenticated(): boolean {\n    return this.state === 'not_authenticated';\n  }\n\n  /**\n   * @description:\n   */\n  public is_deposit_fund(): boolean {\n    return this.state === 'deposit_fund';\n  }\n\n  /**\n   * @description:\n   */\n  public is_choose_your_bet(): boolean {\n    return this.state === 'choose_your_bet';\n  }\n  \n  /**\n   * @description:\n   */\n  public is_bet_has_selected(): boolean {\n    return this.state === 'bet_has_selected';\n  }\n\n  /**\n   * @description:\n   */\n  public is_playrun(): boolean {\n    return this.state === 'playrun';\n  }\n\n  /**\n   * @description:\n   */\n  public is_null(): boolean {\n    return this.state === 'null';\n  }\n\n  /**\n   * @description:\n   */\n  public ngOnInit(): void {\n    this.bindUserStream();\n  }\n\n  /**\n   * @description:\n   */\n  public mouseEnter(type: string): void {\n    if (this.animate[type] === undefined) {\n      console.error(`animate[${type}] is undefined`);\n      return;\n    }\n\n    this.animate[type] = true;\n  }\n\n  /**\n   * @description:\n   */\n  public mouseLeave(type: string): void {\n    if (this.animate[type] === undefined) {\n      console.error(`animate[${type}] is undefined`);\n      return;\n    } \n\n\n    this.animate[type] = false;\n  }\n\n  /**\n   * @description:\n   */\n  public general_click(type: string) {\n    switch (type) {\n      case 'login':\n        this.user_service.redirectToLogin__IfLogout();\n        break;\n      case 'signup':\n        this.user_service.redirectToSignup__IfLogout();\n        break;\n      case 'deposit_fund':\n        alert ('deposit_fund');\n        break;\n      case 'choose_your_bet':\n        alert ('choose_your_bet');\n        break;\n      case 'play_select_token':\n        alert ('play_select_token');\n        break;\n      default:\n        console.error(`type[${type}] is not defined`);\n        break;\n    }\n  }\n\n  /**\n   * @description: \n   */\n  public update_state(): void {\n    // this.state = 'playrun';\n    // return;\n    if (!this.user_service.data_is_loaded()) {\n      this.state = 'null';\n      return;\n    }\n  \n    if (!this.user_service.is_authenticated()) {\n      this.state = 'not_authenticated';\n      return; \n    }\n  \n    // -> verify if the user has deposited the minimum amount, to play\n    if (!this.balance_service.hasSuffisantMoney(this.lotery_ticket[0])) {\n      this.state = 'deposit_fund';\n      return;\n    } else if (this.caps.moment_to_play()) {\n      // TODO: Add the event bet selected to the playroom service\n      // TODO: Delete this \n      setTimeout(() => {\n        this.playroom_service.send_selected_ticket({value: 100});\n      }, 1000);\n      this.state = 'choose_your_bet';\n      // this.state = 'bet_has_selected';\n      return;\n    } else if (this.caps.random_draw()) {\n      this.state = 'playrun';\n      return;\n    }\n\n    // -> selected bet\n    // this.state = ''\n  }\n\n  /**\n   * @description:\n   */\n  public ngOnChanges(): void {\n    this.update_state();\n  }\n\n  /**\n   * @description:\n   */\n  public bindUserStream(): void {\n    this.user_service.stream.subscribe((user) => {\n      this.update_state();\n    });\n  }\n}\n","<div\n    (click)=\"click_central_button()\"\n    class=\"central_button\">\n    <ng-container *ngIf=\"is_not_authenticated()\">\n        <ul class=\"_50percent_divided\">\n            <li\n                (mouseenter)=\"mouseEnter('login')\"\n                (mouseleave)=\"mouseLeave('login')\"\n                (click)=\"general_click('login')\">\n                <div class=\"centered_vertical login_container\">\n                    <app-first-letter-bold-text \n                        text=\"Login\"\n                        [animate]=\"animate.login\">\n\n                    </app-first-letter-bold-text>\n                </div>\n            </li>\n            <li \n                (mouseenter)=\"mouseEnter('signup')\"\n                (mouseleave)=\"mouseLeave('signup')\"\n                (click)=\"general_click('signup')\">\n                <div class=\"centered_vertical\">\n                    <app-first-letter-bold-text \n                        text=\"Signup\"\n                        [animate]=\"animate.signup\">\n\n                    </app-first-letter-bold-text>\n                </div>\n            </li>\n        </ul>\n    </ng-container>\n\n    <ng-container *ngIf=\"is_deposit_fund()\">\n        <div\n            (mouseenter)=\"mouseEnter('deposit_fund')\"\n            (mouseleave)=\"mouseLeave('deposit_fund')\"\n            (click)=\"general_click('deposit_fund')\" \n            class=\"full_container\">\n            <app-first-letter-bold-text\n                [animate]=\"animate.deposit_fund\" \n                text=\"Deposit fund\"\n                ></app-first-letter-bold-text>\n        </div>\n    </ng-container>\n    \n    <ng-container *ngIf=\"is_choose_your_bet()\">\n        <div \n            (mouseenter)=\"mouseEnter('choose_your_bet')\"\n            (mouseleave)=\"mouseLeave('choose_your_bet')\"\n            (click)=\"general_click('choose_your_bet')\" \n            class=\"full_container\">\n            <app-first-letter-bold-text\n                [animate]=\"animate.choose_your_bet\" \n                text=\"Choose your bet\"></app-first-letter-bold-text>\n        </div>        \n    </ng-container>\n\n    <ng-container *ngIf=\"is_bet_has_selected()\">\n        <div\n            (mouseenter)=\"mouseEnter('play_select_token')\"\n            (mouseleave)=\"mouseLeave('play_select_token')\"\n            (click)=\"general_click('play_select_token')\" \n            class=\"full_container\">\n            <app-luck-letter \n                balance=\"central_menu_version\"></app-luck-letter>\n            <app-first-letter-bold-text \n                [animate]=\"animate.play_select_token\" \n                text=\"Play 100\"></app-first-letter-bold-text>\n        </div>    \n    </ng-container>\n\n    <ng-container *ngIf=\"is_null()\">\n        <div class=\"full_container\">\n            <app-first-letter-bold-text \n                text=\"Load ...\"></app-first-letter-bold-text>\n        </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"is_playrun()\">\n        <app-tickets-draw></app-tickets-draw>\n    </ng-container>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}