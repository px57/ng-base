{"ast":null,"code":"import { CapsuleTime } from 'src/app/services/playroom.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/playroom.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../tools/token/token.component\";\nimport * as i4 from \"../central-button/central-button.component\";\nfunction PlayMenuComponent_ul_2_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"app-token\", 9);\n    i0.ɵɵlistener(\"click\", function PlayMenuComponent_ul_2_li_1_Template_app_token_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const token_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.select_token(token_r3));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const token_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵclassMap(\"token_item_\" + i_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"index\", i_r4)(\"token\", token_r3);\n  }\n}\nfunction PlayMenuComponent_ul_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 7);\n    i0.ɵɵtemplate(1, PlayMenuComponent_ul_2_li_1_Template, 2, 4, \"li\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.left_token_list);\n  }\n}\nfunction PlayMenuComponent_ul_7_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"app-token\", 9);\n    i0.ɵɵlistener(\"click\", function PlayMenuComponent_ul_7_li_1_Template_app_token_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const token_r8 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.select_token(token_r8));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const token_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n    i0.ɵɵclassMap(\"token_item_\" + (i_r9 + 3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"index\", i_r9 + 3)(\"token\", token_r8);\n  }\n}\nfunction PlayMenuComponent_ul_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 7);\n    i0.ɵɵtemplate(1, PlayMenuComponent_ul_7_li_1_Template, 2, 4, \"li\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.right_token_list);\n  }\n}\n;\nexport let PlayMenuComponent = /*#__PURE__*/(() => {\n  var _class;\n  class PlayMenuComponent {\n    /**\n     * @description:\n     */\n    constructor(playroomService) {\n      this.playroomService = playroomService;\n      /**\n       * @description:\n       */\n      this.left_token_list = [];\n      /**\n       * @description:\n       */\n      this.right_token_list = [];\n      /**\n       * @description:\n       */\n      this.timelaps = {};\n      /**\n       * @description:\n       */\n      this.caps = new CapsuleTime();\n      /**\n       * @description\n       */\n      this.balance_amount = 0;\n      /**\n       * @description:\n       */\n      this.lotery_ticket = [];\n    }\n    /**\n     * @description:\n     */\n    ngOnInit() {\n      this.bindPlayroomStream();\n    }\n    /**\n     * @description:\n     */\n    bindPlayroomStream() {\n      this.playroomService.stream.subscribe(data => {\n        let event_key = 'recept__' + data.event;\n        if (this[event_key] === undefined) {\n          alert(event_key + ' is not defined in play-menu.component.ts');\n        }\n        this[event_key](data.data);\n      });\n    }\n    /**\n     * @description:\n     */\n    click_central_button() {}\n    /**\n     * @description:\n     */\n    generate_token_list(token_list) {\n      let token_list_return = [];\n      for (const token of token_list) {\n        token_list_return.push({\n          value: token,\n          selected: false,\n          hided: false\n        });\n      }\n      return token_list_return;\n    }\n    /**\n     * @description:\n     */\n    select_token(token) {\n      for (let token of this.left_token_list) {\n        token.selected = false;\n        token.hided = false;\n      }\n      for (let token of this.right_token_list) {\n        token.selected = false;\n        token.hided = false;\n      }\n      token.selected = true;\n      if (token.selected) {\n        for (let token of this.left_token_list) {\n          token.hided = true;\n        }\n        for (let token of this.right_token_list) {\n          token.hided = true;\n        }\n        token.hided = false;\n      }\n    }\n    // @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ [RECEPTOR]\n    /**\n     * @description: Divide the 6 token list in right and left.\n     */\n    recept__lottery_ticket_values(data) {\n      this.left_token_list = this.generate_token_list(data.slice(0, 3));\n      this.right_token_list = this.generate_token_list(data.slice(3, 6));\n      this.lotery_ticket = data;\n    }\n    /**\n     * @description: Permet de mettre a jours les evenements qui ont en commun une balise\n     */\n    recept__account_balance(balance_amount) {\n      this.balance_amount = balance_amount;\n    }\n    /**\n     * @description:\n     */\n    recept__party_time(data) {\n      this.timelaps = data.timelaps;\n      this.caps = data.caps;\n    }\n    /**\n     * @description:\n     */\n    recept__ticket_list(data) {}\n    /**\n     * @description:\n     */\n    recept__jackpot(data) {}\n  }\n  _class = PlayMenuComponent;\n  _class.ɵfac = function PlayMenuComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.PlayroomService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-play-menu\"]],\n    decls: 8,\n    vars: 5,\n    consts: [[1, \"play_menu_container\"], [1, \"left_block\"], [\"class\", \"token_container\", 4, \"ngIf\"], [1, \"central_block\"], [1, \"central_button_container\"], [3, \"caps\", \"balance_amount\", \"lotery_ticket\"], [1, \"right_block\"], [1, \"token_container\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [3, \"index\", \"token\", \"click\"]],\n    template: function PlayMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, PlayMenuComponent_ul_2_Template, 2, 1, \"ul\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵelement(5, \"app-central-button\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵtemplate(7, PlayMenuComponent_ul_7_Template, 2, 1, \"ul\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.caps.moment_to_play());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"caps\", ctx.caps)(\"balance_amount\", ctx.balance_amount)(\"lotery_ticket\", ctx.lotery_ticket);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.caps.moment_to_play());\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.TokenComponent, i4.CentralButtonComponent],\n    styles: [\".play_menu_container[_ngcontent-%COMP%]{position:fixed;background-color:#fff;width:100%;height:10%;bottom:0;left:0;right:0}.play_menu_container[_ngcontent-%COMP%]   .right_block[_ngcontent-%COMP%], .play_menu_container[_ngcontent-%COMP%]   .left_block[_ngcontent-%COMP%], .play_menu_container[_ngcontent-%COMP%]   .central_block[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:33%;margin-top:-3.4%}.play_menu_container[_ngcontent-%COMP%]   .central_button_container[_ngcontent-%COMP%]   .central_button[_ngcontent-%COMP%]{display:inline-block;background-color:red;width:100%;height:100px;margin:auto;cursor:pointer}.play_menu_container[_ngcontent-%COMP%]   .token_container[_ngcontent-%COMP%]{padding:0;margin:0}.play_menu_container[_ngcontent-%COMP%]   .token_container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50px;width:21%;color:#fff;cursor:pointer;margin-left:6%;margin-right:5%}\"]\n  });\n  return PlayMenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}