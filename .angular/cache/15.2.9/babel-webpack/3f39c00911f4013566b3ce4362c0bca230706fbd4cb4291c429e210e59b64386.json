{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction FilterComponent_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 5);\n  }\n}\nfunction FilterComponent_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 6);\n    i0.ɵɵlistener(\"click\", function FilterComponent_img_4_Template_img_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.unselect_all_options($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    selected: a0\n  };\n};\nfunction FilterComponent_div_5_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 8);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_5_li_2_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.select_option(item_r6));\n    });\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, item_r6.selected));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.name);\n  }\n}\nfunction FilterComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"ul\");\n    i0.ɵɵtemplate(2, FilterComponent_div_5_li_2_Template, 3, 4, \"li\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(\"option_container \" + ctx_r2.object_uuid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.options);\n  }\n}\nexport class FilterComponent {\n  constructor() {\n    /**\n     * @description:\n     */\n    this.type = 'single';\n    /**\n     * @description:\n     */\n    this.color = 'grey';\n    /**\n     * @description:\n     */\n    this.title = '';\n    /**\n     * @description:\n     */\n    this.multiple_select = true;\n    /**\n     * @description:\n     */\n    this.options = [];\n    /**\n     * @description:\n     */\n    this.selected = new EventEmitter();\n    /**\n     * @description:\n     */\n    this.opened = false;\n    /**\n     * @description:\n     */\n    this.opened_timestamp = 0;\n    /**\n     * @description:\n     */\n    this.selected_counter = 0;\n    /**\n     * @description:\n     */\n    this.object_uuid = '';\n  }\n  /**\n   * @description:\n   */\n  ngOnInit() {\n    this.selected_counter = this.selectedCounter();\n    this.object_uuid = `filter_${Math.random().toString(36).substr(2, 9)}`;\n  }\n  /**\n   * @description:\n   */\n  unselect_all_options($event) {\n    $event.stopPropagation();\n    this.options.forEach(option => {\n      option.selected = false;\n    });\n    this.selected_counter = this.selectedCounter();\n  }\n  /**\n   * @description:\n   */\n  open_filter() {\n    this.opened = true;\n    this.opened_timestamp = Date.now();\n    if (this.clickOutside !== undefined) {\n      document.removeEventListener('click', this.clickOutside);\n    }\n    // -> Define clickoutside event\n    this.clickOutside = event => {\n      if (this.opened_timestamp + 50 > Date.now()) {\n        return;\n      }\n      const parentNode = event.target.parentNode;\n      const parentNodeOfParentNode = parentNode.parentNode;\n      try {\n        if (parentNode.classList.contains('option_container') || parentNodeOfParentNode.classList.contains('option_container')) {\n          return;\n        }\n      } catch (e) {\n        document.removeEventListener('click', this.clickOutside);\n        this.opened = false;\n      }\n      document.removeEventListener('click', this.clickOutside);\n      this.opened = false;\n    };\n    // -> Add clickoutside event\n    document.addEventListener('click', this.clickOutside);\n  }\n  /**\n   * @description:\n   */\n  close_filter() {\n    this.opened = false;\n  }\n  /***\n   * @description:\n   */\n  select_option(option) {\n    if (!this.multiple_select) {\n      this.options.forEach(option => {\n        option.selected = false;\n      });\n    }\n    option.selected = true;\n    this.title = option.name;\n    this.selected_counter = this.selectedCounter();\n    this.selected.emit(option);\n  }\n  /**\n   * @description:\n   */\n  selectedCounter() {\n    return this.options.filter(option => option.selected).length;\n  }\n  /**\n   * @description:\n   */\n  ngOnDestroy() {\n    if (this.clickOutside !== undefined) {\n      document.removeEventListener('click', this.clickOutside);\n    }\n  }\n  /**\n   * @description:\n   */\n  showFilterTitle() {\n    return this.title;\n  }\n}\n_class = FilterComponent;\n_class.ɵfac = function FilterComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-filter\"]],\n  inputs: {\n    type: \"type\",\n    color: \"color\",\n    title: \"title\",\n    multiple_select: \"multiple_select\",\n    options: \"options\"\n  },\n  outputs: {\n    selected: \"selected\"\n  },\n  decls: 6,\n  vars: 6,\n  consts: [[3, \"click\"], [1, \"small-body-text-sb12\"], [\"src\", \"/assets/BiDownArrow.svg\", \"alt\", \"\", 4, \"ngIf\"], [\"src\", \"/assets/close.svg\", \"alt\", \"\", 3, \"click\", 4, \"ngIf\"], [3, \"class\", 4, \"ngIf\"], [\"src\", \"/assets/BiDownArrow.svg\", \"alt\", \"\"], [\"src\", \"/assets/close.svg\", \"alt\", \"\", 3, \"click\"], [3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"click\"]],\n  template: function FilterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵlistener(\"click\", function FilterComponent_Template_div_click_0_listener() {\n        return ctx.open_filter();\n      });\n      i0.ɵɵelementStart(1, \"p\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, FilterComponent_img_3_Template, 1, 0, \"img\", 2);\n      i0.ɵɵtemplate(4, FilterComponent_img_4_Template, 1, 0, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, FilterComponent_div_5_Template, 3, 3, \"div\", 4);\n    }\n    if (rf & 2) {\n      i0.ɵɵclassMap(\"filter-container \" + ctx.color);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.showFilterTitle(), \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.type === \"single\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.type === \"with_cross\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.opened);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf],\n  styles: [\".filter-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 5px 10px;\\n  gap: 5px;\\n\\n  \\n  max-width: 140px;\\n  height: 28px;\\n\\n  background: #f1f1f7;\\n  border-radius: 5px;\\n\\n  margin-bottom: 16px;\\n  cursor: pointer;\\n}\\n\\n.filter-container[_ngcontent-%COMP%]    > img[_ngcontent-%COMP%] {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.violet[_ngcontent-%COMP%] {\\n  background: rgba(233, 212, 255, 0.5);\\n}\\n\\n.green[_ngcontent-%COMP%] {\\n  background: rgb(206, 238, 241, 0.5);\\n}\\n\\n.option_container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  padding: 0px;\\n\\n  position: absolute;\\n  \\n  \\n\\n  filter: drop-shadow(0px 4px 12px rgba(0, 0, 0, 0.25));\\n  border-radius: 20px;\\n}\\n\\n.option_container[_ngcontent-%COMP%]    > ul[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: flex-start;\\n  padding: 15px 32px;\\n  gap: 10px;\\n\\n  \\n  height: 48px;\\n\\n  background: #f1f1f7;\\n\\n  border-bottom: 1px solid #f1f1f7;\\n  cursor: pointer;\\n  list-style: none;\\n}\\n\\n.option_container[_ngcontent-%COMP%]    > ul[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:hover {\\n  background: #f9f9f9;\\n}\\n\\n.option_container[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]    > p[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  padding: 0px;\\n  gap: 10px;\\n\\n  width: 100px;\\n  height: 18px;\\n}\\n\\n.selected[_ngcontent-%COMP%] {\\n  background: #fff;\\n  border: 1px solid #e0e0e0;\\n  box-sizing: border-box;\\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.05);\\n  border-radius: 5px;\\n}\\n\\n@media (max-width: 650px) {\\n  .filter-container[_ngcontent-%COMP%] {\\n    margin-bottom: 0px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tb2R1bGVzL2Zvcm0vY29tcG9uZW50cy9maWx0ZXIvZmlsdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLFFBQVE7O0VBRVIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixZQUFZOztFQUVaLG1CQUFtQjtFQUNuQixrQkFBa0I7O0VBRWxCLG1CQUFtQjtFQUNuQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLG1DQUFtQztBQUNyQzs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsdUJBQXVCO0VBQ3ZCLFlBQVk7O0VBRVosa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixtQkFBbUI7O0VBRW5CLHFEQUFxRDtFQUNyRCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixTQUFTOztFQUVULGtCQUFrQjtFQUNsQixZQUFZOztFQUVaLG1CQUFtQjs7RUFFbkIsZ0NBQWdDO0VBQ2hDLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixTQUFTOztFQUVULFlBQVk7RUFDWixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIseUJBQXlCO0VBQ3pCLHNCQUFzQjtFQUN0QiwyQ0FBMkM7RUFDM0Msa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0U7SUFDRSxrQkFBa0I7RUFDcEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5maWx0ZXItY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDVweCAxMHB4O1xuICBnYXA6IDVweDtcblxuICAvKiB3aWR0aDogMTQwcHg7ICovXG4gIG1heC13aWR0aDogMTQwcHg7XG4gIGhlaWdodDogMjhweDtcblxuICBiYWNrZ3JvdW5kOiAjZjFmMWY3O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG5cbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uZmlsdGVyLWNvbnRhaW5lciA+IGltZyB7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDEwcHg7XG59XG5cbi52aW9sZXQge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIzMywgMjEyLCAyNTUsIDAuNSk7XG59XG5cbi5ncmVlbiB7XG4gIGJhY2tncm91bmQ6IHJnYigyMDYsIDIzOCwgMjQxLCAwLjUpO1xufVxuXG4ub3B0aW9uX2NvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBwYWRkaW5nOiAwcHg7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuICAvKiB3aWR0aDogMTY0cHg7ICovXG4gIC8qIGhlaWdodDogMTQ0cHg7ICovXG5cbiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwcHggNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjI1KSk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG59XG5cbi5vcHRpb25fY29udGFpbmVyID4gdWwgPiBsaSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBwYWRkaW5nOiAxNXB4IDMycHg7XG4gIGdhcDogMTBweDtcblxuICAvKiB3aWR0aDogMTY0cHg7ICovXG4gIGhlaWdodDogNDhweDtcblxuICBiYWNrZ3JvdW5kOiAjZjFmMWY3O1xuXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjFmMWY3O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG5cbi5vcHRpb25fY29udGFpbmVyID4gdWwgPiBsaTpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG59XG5cbi5vcHRpb25fY29udGFpbmVyID4gbGkgPiBwIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMHB4O1xuICBnYXA6IDEwcHg7XG5cbiAgd2lkdGg6IDEwMHB4O1xuICBoZWlnaHQ6IDE4cHg7XG59XG5cbi5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJveC1zaGFkb3c6IDBweCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KSB7XG4gIC5maWx0ZXItY29udGFpbmVyIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","i0","FilterComponent","constructor","ngOnInit","selected_counter","selectedCounter","object_uuid","Math","random","toString","substr","unselect_all_options","$event","stopPropagation","options","forEach","option","selected","open_filter","opened","opened_timestamp","Date","now","clickOutside","undefined","document","removeEventListener","event","parentNode","target","parentNodeOfParentNode","classList","contains","e","addEventListener","close_filter","select_option","multiple_select","title","name","emit","filter","length","ngOnDestroy","showFilterTitle","selectors","inputs","type","color","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/var/projects/base/ng-base/src/modules/form/components/filter/filter.component.ts","/var/projects/base/ng-base/src/modules/form/components/filter/filter.component.html"],"sourcesContent":["import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.css'],\n})\nexport class FilterComponent implements OnInit, OnDestroy {\n  /**\n   * @description:\n   */\n  @Input()\n  public type: 'single' | 'with_cross' = 'single';\n\n  /**\n   * @description:\n   */\n  @Input()\n  public color: 'grey' | 'violet' | 'green' = 'grey';\n\n  /**\n   * @description:\n   */\n  @Input()\n  public title: string = '';\n\n  /**\n   * @description:\n   */\n  @Input()\n  public multiple_select: boolean = true;\n\n  /**\n   * @description:\n   */\n  @Input()\n  public options: any[] = [];\n\n  /**\n   * @description:\n   */\n  @Output()\n  public selected: EventEmitter<any> = new EventEmitter();\n\n  /**\n   * @description:\n   */\n  public opened: boolean = false;\n\n  /**\n   * @description:\n   */\n  public opened_timestamp: number = 0;\n\n  /**\n   * @description:\n   */\n  public selected_counter = 0;\n\n  /**\n   * @description:\n   */\n  public object_uuid = '';\n\n  /**\n   * @description:\n   */\n  public clickOutside: any;\n\n  constructor() {}\n\n  /**\n   * @description:\n   */\n  public ngOnInit(): void {\n    this.selected_counter = this.selectedCounter();\n    this.object_uuid = `filter_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * @description:\n   */\n  public unselect_all_options($event: any): void {\n    $event.stopPropagation();\n    this.options.forEach((option: any) => {\n      option.selected = false;\n    });\n    this.selected_counter = this.selectedCounter();\n  }\n\n  /**\n   * @description:\n   */\n  public open_filter(): void {\n    this.opened = true;\n    this.opened_timestamp = Date.now();\n\n    if (this.clickOutside !== undefined) {\n      document.removeEventListener('click', this.clickOutside);\n    }\n\n    // -> Define clickoutside event\n    this.clickOutside = (event: any) => {\n      if (this.opened_timestamp + 50 > Date.now()) {\n        return;\n      }\n\n      const parentNode = event.target.parentNode;\n      const parentNodeOfParentNode = parentNode.parentNode;\n\n      try {\n        if (\n          parentNode.classList.contains('option_container') ||\n          parentNodeOfParentNode.classList.contains('option_container')\n        ) {\n          return;\n        }\n      } catch (e) {\n        document.removeEventListener('click', this.clickOutside);\n        this.opened = false;\n      }\n\n      document.removeEventListener('click', this.clickOutside);\n      this.opened = false;\n    };\n\n    // -> Add clickoutside event\n    document.addEventListener('click', this.clickOutside);\n  }\n\n  /**\n   * @description:\n   */\n  public close_filter(): void {\n    this.opened = false;\n  }\n\n  /***\n   * @description:\n   */\n  public select_option(option: any): void {\n    if (!this.multiple_select) {\n      this.options.forEach((option: any) => {\n        option.selected = false;\n      });\n    }\n    option.selected = true;\n    this.title = option.name;\n    this.selected_counter = this.selectedCounter();\n    this.selected.emit(option);\n  }\n\n  /**\n   * @description:\n   */\n  public selectedCounter(): number {\n    return this.options.filter((option: any) => option.selected).length;\n  }\n\n  /**\n   * @description:\n   */\n  public ngOnDestroy(): void {\n    if (this.clickOutside !== undefined) {\n      document.removeEventListener('click', this.clickOutside);\n    }\n  }\n\n  /**\n   * @description:\n   */\n  public showFilterTitle(): string {\n\n    return this.title;\n  }\n}\n","<div (click)=\"open_filter()\" [class]=\"'filter-container ' + color\">\n  <p class=\"small-body-text-sb12\">\n    {{ showFilterTitle() }}\n    <!-- <ng-container *ngIf=\"multiple_select\"\n      >({{ selected_counter }})</ng-container> -->\n  </p>\n  <img *ngIf=\"type === 'single'\" src=\"/assets/BiDownArrow.svg\" alt=\"\" />\n  <img\n    *ngIf=\"type === 'with_cross'\"\n    (click)=\"unselect_all_options($event)\"\n    src=\"/assets/close.svg\"\n    alt=\"\"\n  />\n</div>\n\n<div *ngIf=\"opened\" [class]=\"'option_container ' + object_uuid\">\n  <ul>\n    <li\n      *ngFor=\"let item of options\"\n      [ngClass]=\"{\n        selected: item.selected\n      }\"\n      (click)=\"select_option(item)\"\n    >\n      <p>{{ item.name }}</p>\n    </li>\n  </ul>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}