{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/playroom.service\";\nimport * as i2 from \"src/app/services/balance.service\";\nimport * as i3 from \"src/modules/profile/services/user.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../tools/luck-letter/luck-letter.component\";\nimport * as i6 from \"../header-profile-dropdown/header-profile-dropdown.component\";\nfunction HeaderComponent_app_header_profile_dropdown_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-header-profile-dropdown\", 12);\n    i0.ɵɵlistener(\"close\", function HeaderComponent_app_header_profile_dropdown_19_Template_app_header_profile_dropdown_close_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.profile_dropdown = false);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"background-image\": a0\n  };\n};\nexport class HeaderComponent {\n  /**\n   * @description:\n   */\n  constructor(playroomService, balanceService, userService) {\n    this.playroomService = playroomService;\n    this.balanceService = balanceService;\n    this.userService = userService;\n    /**\n     * @description:\n     */\n    this.account_balance = 0;\n    /**\n     * @description:\n     */\n    this.party_time_in_second = 0;\n    /**\n     * @description:\n     */\n    this.profile_dropdown = false;\n    this.bindPlayroomStream();\n    this.bindBalance();\n    this.bindStreamUserService();\n  }\n  /**\n   * @description:\n   */\n  bindStreamUserService() {\n    this.userService.stream.subscribe(data => {});\n  }\n  /**\n   * @description:\n   */\n  bindPlayroomStream() {\n    this.playroomService.stream.subscribe(data => {\n      let event_key = 'recept__' + data.event;\n      if (this[event_key] === undefined) {\n        alert(event_key + ' is not defined in header.component.ts');\n      }\n      this[event_key](data.data);\n    });\n  }\n  /**\n   * @description\n   */\n  bindBalance() {\n    this.balanceService.stream.subscribe(balance => {\n      this.recept__account_balance(balance);\n    });\n  }\n  /**\n   * @description:\n   */\n  recept__lottery_ticket_values(data) {}\n  /**\n   * @description:\n   */\n  recept__party_time(data) {\n    // TODO: Delete for the deploy.\n    this.party_time_in_second = Math.round(data.time);\n    this.party_time_in_second = this.playroomService.get_party_duration() - this.party_time_in_second;\n  }\n  /**\n   * @description:\n   */\n  recept__account_balance(account_balance) {\n    let account_balance_string = account_balance.toString();\n    account_balance_string = account_balance_string.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n    this.account_balance = account_balance_string;\n  }\n  /**\n   * @description:\n   */\n  recept__ticket_list(data) {}\n  /**\n   * @description:\n   */\n  recept__jackpot(data) {}\n}\n_class = HeaderComponent;\n_class.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.PlayroomService), i0.ɵɵdirectiveInject(i2.BalanceService), i0.ɵɵdirectiveInject(i3.UserService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-header\"]],\n  decls: 20,\n  vars: 6,\n  consts: [[1, \"header_container\"], [1, \"percent33_inline_blocks\"], [1, \"timer_container\"], [2, \"font-weight\", \"lighter\"], [1, \"logo_container\"], [1, \"right_container\"], [1, \"balance_container\"], [1, \"balance_title\"], [1, \"balance_value\"], [\"type\", \"balance\"], [1, \"user_circle\", 3, \"ngStyle\", \"click\"], [3, \"close\", 4, \"ngIf\"], [3, \"close\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\", 3);\n      i0.ɵɵtext(4, \" Next game \\u00A0\");\n      i0.ɵɵelementStart(5, \"strong\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\u00A0seconds\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 1);\n      i0.ɵɵelement(9, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"div\", 5)(12, \"div\", 6)(13, \"div\", 7);\n      i0.ɵɵtext(14, \"Balance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 8);\n      i0.ɵɵtext(16);\n      i0.ɵɵelement(17, \"app-luck-letter\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 10);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_div_click_18_listener() {\n        return ctx.profile_dropdown = true;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(19, HeaderComponent_app_header_profile_dropdown_19_Template, 1, 0, \"app-header-profile-dropdown\", 11);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.party_time_in_second);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate1(\" \", ctx.account_balance, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(4, _c0, \"url(\" + ctx.userService.get_avatar().src + \")\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.profile_dropdown);\n    }\n  },\n  dependencies: [i4.NgIf, i4.NgStyle, i5.LuckLetterComponent, i6.HeaderProfileDropdownComponent],\n  styles: [\".header_container[_ngcontent-%COMP%] {\\n  position: fixed;\\n  background-color: white;\\n  width: 100%;\\n  height: 10%;\\n  border-radius: 0% 0% 50% 50%;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.header_container[_ngcontent-%COMP%]   .timer_container[_ngcontent-%COMP%] {\\n  color: black;\\n  display: flex;\\n  height: 60%;\\n}\\n.header_container[_ngcontent-%COMP%]   .timer_container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  align-self: center;\\n  margin-left: 10px;\\n}\\n.header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%] {\\n  float: right;\\n  margin-right: 10px;\\n}\\n.header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .balance_title[_ngcontent-%COMP%], .header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .balance_value[_ngcontent-%COMP%], .header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .user_circle[_ngcontent-%COMP%], .header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .balance_container[_ngcontent-%COMP%] {\\n  display: inline-block;\\n}\\n.header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .balance_container[_ngcontent-%COMP%] {\\n  color: black;\\n  background-color: #f3f3f3;\\n  border-radius: 50px;\\n  border: 1px solid #ebebeb;\\n}\\n.header_container[_ngcontent-%COMP%]   .right_container[_ngcontent-%COMP%]   .user_circle[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n  display: inline-block;\\n  background-color: #deb750;\\n  border-radius: 50%;\\n  width: 40px;\\n  height: 40px;\\n  background-size: contain;\\n  cursor: pointer;\\n}\\n.header_container[_ngcontent-%COMP%]   .logo_container[_ngcontent-%COMP%] {\\n  max-height: 100%;\\n  background-image: url(/assets/img/logo.svg);\\n  margin-top: 10%;\\n  height: 80%;\\n  aspect-ratio: 1/1;\\n  margin: auto;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  margin-top: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmF2L2hlYWRlci9oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUVBLDRCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0FBQUo7QUFFSTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtBQUFSO0FBRVE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FBQVo7QUFJSTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtBQUZSO0FBSVE7RUFDSSxxQkFBQTtBQUZaO0FBTVE7RUFDSSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBSlo7QUFPUTtFQUNJLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx3QkFBQTtFQUNBLGVBQUE7QUFMWjtBQVNJO0VBQ0ksZ0JBQUE7RUFDQSwyQ0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0VBQ0Esd0JBQUE7RUFDQSw0QkFBQTtFQUNBLGNBQUE7QUFQUiIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkZXJfY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMCU7XG5cbiAgICBib3JkZXItcmFkaXVzOiAwJSAwJSA1MCUgNTAlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuXG4gICAgLnRpbWVyX2NvbnRhaW5lciB7XG4gICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgaGVpZ2h0OiA2MCU7XG5cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5yaWdodF9jb250YWluZXIge1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcblxuICAgICAgICAuYmFsYW5jZV90aXRsZSwgLmJhbGFuY2VfdmFsdWUsIC51c2VyX2NpcmNsZSwgLmJhbGFuY2VfY29udGFpbmVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLmJhbGFuY2VfY29udGFpbmVyIHtcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ViZWJlYjtcbiAgICAgICAgfVxuXG4gICAgICAgIC51c2VyX2NpcmNsZSB7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZWI3NTBmZjtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmxvZ29fY29udGFpbmVyIHtcbiAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC9hc3NldHMvaW1nL2xvZ28uc3ZnKTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTAlO1xuICAgICAgICBoZWlnaHQ6IDgwJTtcbiAgICAgICAgYXNwZWN0LXJhdGlvOiAxLzE7XG4gICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgICAgICBtYXJnaW4tdG9wOiAyJTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;IA+BAA,uDAEuC;IAAnCA;MAAAA;MAAA;MAAA,gDAA4B,KAAK;IAAA,EAAC;IAACA,iBAA8B;;;;;;;;ACvBrE,OAAM,MAAOC,eAAe;EAgB1B;;;EAGAC,YACSC,eAAgC,EAChCC,cAA8B,EAC9BC,WAAwB;IAFxB,oBAAe,GAAfF,eAAe;IACf,mBAAc,GAAdC,cAAc;IACd,gBAAW,GAAXC,WAAW;IArBpB;;;IAGO,oBAAe,GAAQ,CAAC;IAE/B;;;IAGO,yBAAoB,GAAW,CAAC;IAEvC;;;IAGO,qBAAgB,GAAY,KAAK;IAUtC,IAAI,CAACC,kBAAkB,EAAE;IACzB,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,qBAAqB,EAAE;EAC9B;EAEA;;;EAGQA,qBAAqB;IAC3B,IAAI,CAACH,WAAW,CAACI,MAAM,CAACC,SAAS,CAAEC,IAAS,IAAI,CAChD,CAAC,CAAC;EACJ;EAEA;;;EAGOL,kBAAkB;IACvB,IAAI,CAACH,eAAe,CAACM,MAAM,CAACC,SAAS,CAAEC,IAAS,IAAI;MAClD,IAAIC,SAAS,GAAG,UAAU,GAAGD,IAAI,CAACE,KAAK;MACvC,IAAK,IAAY,CAACD,SAAS,CAAC,KAAKE,SAAS,EAAE;QAC1CC,KAAK,CAACH,SAAS,GAAG,wCAAwC,CAAC;;MAE5D,IAAY,CAACA,SAAS,CAAC,CAACD,IAAI,CAACA,IAAI,CAAC;IACrC,CAAC,CAAC;EACJ;EAEA;;;EAGQJ,WAAW;IACjB,IAAI,CAACH,cAAc,CAACK,MAAM,CAACC,SAAS,CAAEM,OAAe,IAAI;MACvD,IAAI,CAACC,uBAAuB,CAACD,OAAO,CAAC;IACvC,CAAC,CAAC;EACJ;EAEA;;;EAGOE,6BAA6B,CAACP,IAAS,GAE9C;EAEA;;;EAGOQ,kBAAkB,CAACR,IAAS;IACjC;IAEA,IAAI,CAACS,oBAAoB,GAAGC,IAAI,CAACC,KAAK,CAACX,IAAI,CAACY,IAAI,CAAC;IACjD,IAAI,CAACH,oBAAoB,GAAG,IAAI,CAACjB,eAAe,CAACqB,kBAAkB,EAAE,GAAG,IAAI,CAACJ,oBAAoB;EACnG;EAEA;;;EAGOH,uBAAuB,CAACQ,eAAuB;IACpD,IAAIC,sBAAsB,GAAGD,eAAe,CAACE,QAAQ,EAAE;IACvDD,sBAAsB,GAAGA,sBAAsB,CAACE,OAAO,CAAC,yBAAyB,EAAE,KAAK,CAAC;IACzF,IAAI,CAACH,eAAe,GAAGC,sBAAsB;EAC/C;EAEA;;;EAGOG,mBAAmB,CAAClB,IAAS,GAAU;EAE9C;;;EAGOmB,eAAe,CAACnB,IAAS,GAAI;;SA7FzBV,eAAe;;mBAAfA,MAAe;AAAA;;QAAfA,MAAe;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV5BnC,8BAA8B;MAIdA,iCAAgB;MAAAA,8BAAQ;MAAAA,YAA0B;MAAAA,iBAAS;MAAAA,6BAAa;MAAAA,iBAAO;MAG3FA,8BAAqC;MACjCA,yBACM;MACVA,iBAAM;MACNA,+BAAqC;MAGEA,wBAAO;MAAAA,iBAAM;MACxCA,+BAA2B;MACvBA,aACA;MAAAA,sCAAkD;MAAAA,iBAAM;MAGhEA,gCAKO;MAJHA;QAAA,8BAA4B,IAAI;MAAA,EAAC;MAI9BA,iBAAM;MAMzBA,mHAEqE;;;MA7B7BA,eAA0B;MAA1BA,8CAA0B;MAY9CA,gBACA;MADAA,oDACA;MAMJA,eAEE;MAFFA,qGAEE;MAObA,eAAsB;MAAtBA,2CAAsB","names":["i0","HeaderComponent","constructor","playroomService","balanceService","userService","bindPlayroomStream","bindBalance","bindStreamUserService","stream","subscribe","data","event_key","event","undefined","alert","balance","recept__account_balance","recept__lottery_ticket_values","recept__party_time","party_time_in_second","Math","round","time","get_party_duration","account_balance","account_balance_string","toString","replace","recept__ticket_list","recept__jackpot","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/var/projects/gtender/client2/src/app/nav/header/header.component.html","/var/projects/gtender/client2/src/app/nav/header/header.component.ts"],"sourcesContent":["<div class=\"header_container\">\n    <div class=\"percent33_inline_blocks\">\n        <div class=\"timer_container\">\n            <span style=\"font-weight: lighter;\">\n                Next game &nbsp;<strong>{{ party_time_in_second }}</strong>&nbsp;seconds</span> \n        </div>\n    </div>\n    <div class=\"percent33_inline_blocks\">\n        <div class=\"logo_container\">\n        </div>\n    </div>\n    <div class=\"percent33_inline_blocks\">\n        <div class=\"right_container\">\n            <div class=\"balance_container\">\n                <div class=\"balance_title\">Balance</div>\n                <div class=\"balance_value\">\n                    {{ account_balance }} \n                    <app-luck-letter type=\"balance\"></app-luck-letter></div>\n            </div>\n    \n            <div \n                (click)=\"profile_dropdown = true\"\n                class=\"user_circle\"\n                [ngStyle]=\"{\n                    'background-image': 'url(' + userService.get_avatar().src + ')'\n                }\"></div>\n            \n        </div>\n    </div>\n</div>\n\n<app-header-profile-dropdown\n    *ngIf=\"profile_dropdown\"\n    (close)=\"profile_dropdown = false\"></app-header-profile-dropdown>","import { Component } from '@angular/core';\nimport { PlayroomService } from 'src/app/services/playroom.service';\nimport { BalanceService } from 'src/app/services/balance.service';\nimport { UserService } from 'src/modules/profile/services/user.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent {\n  /**\n   * @description:\n   */\n  public account_balance: any = 0;\n  \n  /**\n   * @description: \n   */\n  public party_time_in_second: number = 0;\n\n  /**\n   * @description: \n   */\n  public profile_dropdown: boolean = false;\n\n  /**\n   * @description:\n   */\n  constructor(\n    public playroomService: PlayroomService,\n    public balanceService: BalanceService,\n    public userService: UserService,\n  ) {\n    this.bindPlayroomStream();\n    this.bindBalance();\n    this.bindStreamUserService();\n  }\n\n  /**\n   * @description: \n   */\n  private bindStreamUserService(): void { \n    this.userService.stream.subscribe((data: any) => {\n    });\n  }\n\n  /**\n   * @description:\n   */\n  public bindPlayroomStream(): void {\n    this.playroomService.stream.subscribe((data: any) => {\n      let event_key = 'recept__' + data.event;\n      if ((this as any)[event_key] === undefined) {\n        alert(event_key + ' is not defined in header.component.ts');\n      }\n      (this as any)[event_key](data.data);\n    });\n  }\n\n  /**\n   * @description\n   */\n  private bindBalance(): void {\n    this.balanceService.stream.subscribe((balance: number) => {\n      this.recept__account_balance(balance);\n    });\n  }\n\n  /**\n   * @description:\n   */\n  public recept__lottery_ticket_values(data: any): void {\n    \n  }\n\n  /**\n   * @description:\n   */\n  public recept__party_time(data: any): void {\n    // TODO: Delete for the deploy.\n\n    this.party_time_in_second = Math.round(data.time);\n    this.party_time_in_second = this.playroomService.get_party_duration() - this.party_time_in_second;\n  }\n\n  /**\n   * @description:\n   */\n  public recept__account_balance(account_balance: number) {\n    let account_balance_string = account_balance.toString();\n    account_balance_string = account_balance_string.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n    this.account_balance = account_balance_string;\n  }\n\n  /**\n   * @description:\n   */\n  public recept__ticket_list(data: any): void { }\n\n  /**\n   * @description: \n   */\n  public recept__jackpot(data: any) { }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}