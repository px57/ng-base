{"ast":null,"code":"import { Injector } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/switch-modal.service\";\nimport * as i3 from \"@angular/common\";\nfunction SwitchModalComponent_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction SwitchModalComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function SwitchModalComponent_ng_container_0_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clickToBackgroundContainer());\n    });\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵlistener(\"click\", function SwitchModalComponent_ng_container_0_Template_div_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.clickToViewContainer($event));\n    });\n    i0.ɵɵtemplate(3, SwitchModalComponent_ng_container_0_ng_container_3_Template, 1, 0, \"ng-container\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngComponentOutlet\", ctx_r0.config.component);\n  }\n}\nexport let SwitchModalComponent = /*#__PURE__*/(() => {\n  var _class;\n  class SwitchModalComponent {\n    constructor(injector, route, switchModalService) {\n      this.injector = injector;\n      this.route = route;\n      this.switchModalService = switchModalService;\n      /**\n       * @description:\n       */\n      this.switch = ``;\n      /**\n       * @description:\n       */\n      this.myInjector = undefined;\n      /**\n       * @description:\n       */\n      this.myContent = {\n        SigninSuccess: data => {\n          alert('salut grosse salope.');\n        }\n      };\n      /**\n       * @description:\n       */\n      this.config = undefined;\n      /**\n       * @description:\n       */\n      this.myInputs = {\n        'label': 'Complete'\n      };\n      this.myInjector = Injector.create({\n        providers: [{\n          provide: 'data',\n          useValue: 'Données passées au composant dynamique'\n        }],\n        parent: this.injector\n      });\n      this.myContent = {\n        SigninSuccess: data => {\n          alert('salut grosse salope.');\n        }\n      };\n    }\n    /**\n     * @description:\n     */\n    ngOnInit() {\n      this.bindQueryParams();\n      console.log(this);\n    }\n    /**\n     * @description:\n     */\n    bindQueryParams() {\n      this.route.queryParams.subscribe(response => {\n        this.updateSwitch(response.switch);\n      });\n      const urlParams = new URLSearchParams(window.location.search);\n      let switch_name = urlParams.get('switch');\n      if (switch_name === null) {\n        return;\n      }\n      this.updateSwitch(switch_name);\n    }\n    /**\n     * @description:\n     */\n    updateSwitch(switch_name) {\n      if (switch_name === undefined) {\n        this.switch = \"\";\n        this.config = undefined;\n        return;\n      }\n      this.switch = switch_name;\n      this.config = this.switchModalService.get_config(switch_name);\n      this.myInjector = Injector.create({\n        providers: [{\n          provide: 'data',\n          useValue: 'Données passées au composant dynamique'\n        }],\n        parent: this.injector\n      });\n      this.myContent = {\n        SigninSuccess: data => {\n          alert('salut grosse salope.');\n        }\n      };\n      console.log(this.myContent);\n    }\n    /*\n     * @description:\n     */\n    openedLink(switchKey) {\n      return this.switch === switchKey;\n    }\n    /**\n     * @description:\n     */\n    close() {\n      this.switch = \"\";\n    }\n    /**\n     * @description:\n     */\n    clickToViewContainer($event) {\n      $event.stopPropagation();\n    }\n    /**\n     * @description:\n     */\n    clickToBackgroundContainer() {\n      if (this.component !== undefined && this.component.switchModal__eventClose !== undefined) {\n        if (!this.component.switchModal__eventClose()) {\n          return;\n        }\n      }\n      setTimeout(() => {\n        this.switchModalService.close();\n      }, 200);\n    }\n    /**\n     * @description:\n     */\n    init($event) {\n      this.component = $event;\n    }\n    /**\n     * @description:\n     */\n    SigninSuccess() {\n      alert('aoeuaoeu');\n    }\n  }\n  _class = SwitchModalComponent;\n  _class.ɵfac = function SwitchModalComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SwitchModalService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-switch-modal\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"modalBackgroundContainer\", 3, \"click\"], [1, \"viewContainer\", 3, \"click\"], [4, \"ngComponentOutlet\"]],\n    template: function SwitchModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SwitchModalComponent_ng_container_0_Template, 4, 1, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.config !== undefined);\n      }\n    },\n    dependencies: [i3.NgComponentOutlet, i3.NgIf],\n    styles: [\".modalBackgroundContainer[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:1000;display:flex;align-items:center;justify-content:center;box-shadow:0 20px 40px 1px #0000001f,inset 0 -10px 20px -5px #0000004d,0 150px 100px -80px #0006,inset 0 1px 4px #fff9,inset 0 -1px 1px 1px #0003;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.viewContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:60px 70px 60px 60px}\"]\n  });\n  return SwitchModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}