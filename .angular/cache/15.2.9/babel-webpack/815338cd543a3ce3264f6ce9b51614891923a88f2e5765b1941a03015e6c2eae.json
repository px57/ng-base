{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nvar $localize = msg => msg;\nconst FORM_DJANGO_TRADUCTOR = {\n  email: {\n    exists: $localize`This email address is already in use.`,\n    invalid: $localize`The email address is invalid.`,\n    required: $localize`This field is required.`,\n    not_encountered: $localize`This email address is not registered.`,\n    'Enter a valid email address.': $localize`The email address is invalid.`,\n    invalid_partner_email: $localize`The email address is invalid for this partner.`\n  },\n  password: {\n    password_is_alpha: $localize`Password must contain at least one number.`,\n    password_is_numeric: $localize`Password must contain at least one letter.`,\n    password_too_long: $localize`Password must contain at most 128 characters.`,\n    password_too_short: $localize`Password must contain at least 8 characters.`,\n    password_is_lower: $localize`Password must contain at least one uppercase letter.`,\n    password_has_space: $localize`Password must not contain spaces.`,\n    required: $localize`This field is required.`\n  },\n  collegeCode: {\n    invalid: $localize`The college code is invalid.`,\n    required: $localize`This field is required.`\n  },\n  first_name: {\n    required: $localize`This field is required.`\n  },\n  last_name: {\n    required: $localize`This field is required.`\n  },\n  __signin__: {\n    not_exists: $localize`Please fill in your email and password to sign in`\n  }\n};\nexport class FormsService {\n  /**\n   * @description: Constructeur.\n   */\n  constructor() {}\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   */\n  hasError(httpResponse, inputName) {\n    if (httpResponse === undefined) {\n      return false;\n    }\n    if (inputName === undefined) {\n      return false;\n    }\n    return httpResponse.form_error !== undefined && httpResponse.form_error[inputName] !== undefined;\n  }\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   */\n  notHasError(httpResponse, inputName) {\n    return !this.hasError(httpResponse, inputName);\n  }\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   * @param httpResponse: any\n   * @param inputName: string | undefined\n   * @param traductor: any\n   */\n  getErrorMsg(httpResponse, inputName) {\n    if (this.notHasError(httpResponse, inputName)) {\n      return undefined;\n    }\n    if (inputName === undefined) {\n      return undefined;\n    }\n    const error = httpResponse.form_error[inputName][0];\n    const errorMsg = this.getErrorMsgDjango(error, inputName);\n    if (errorMsg === undefined) {\n      console.error(\"FORM-ERROR>>>>\", error);\n    }\n    return errorMsg;\n  }\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   * @param httpResponse: any\n   * @param inputName: string | undefined\n   */\n  getErrorMsgDjango(error, inputName) {\n    if (FORM_DJANGO_TRADUCTOR.hasOwnProperty(inputName) === false) {\n      return undefined;\n    }\n    if (FORM_DJANGO_TRADUCTOR[inputName].hasOwnProperty(error) === false) {\n      return undefined;\n    }\n    return FORM_DJANGO_TRADUCTOR[inputName][error];\n  }\n  /**\n   * @description:\n   */\n  getInput(inputList, input_name) {\n    for (let input of inputList) {\n      if (input.name === input_name) {\n        return input;\n      }\n    }\n    raise;\n    Exception(`Input ${input_name} not found`);\n  }\n}\n_class = FormsService;\n_class.ɵfac = function FormsService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":"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","names":["$localize","msg","FORM_DJANGO_TRADUCTOR","email","exists","invalid","required","not_encountered","invalid_partner_email","password","password_is_alpha","password_is_numeric","password_too_long","password_too_short","password_is_lower","password_has_space","collegeCode","first_name","last_name","__signin__","not_exists","FormsService","constructor","hasError","httpResponse","inputName","undefined","form_error","notHasError","getErrorMsg","error","errorMsg","getErrorMsgDjango","console","hasOwnProperty","getInput","inputList","input_name","input","name","raise","Exception","factory","providedIn"],"sourceRoot":"","sources":["/var/projects/gtender/client2/src/modules/form/services/forms.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { ConfigInput } from 'src/modules/form/types';\n\nvar $localize = (msg: any) => msg;\n\nconst FORM_DJANGO_TRADUCTOR: any = {\n  email: {\n    exists: $localize`This email address is already in use.`,\n    invalid: $localize`The email address is invalid.`,\n    required: $localize`This field is required.`,\n    not_encountered: $localize`This email address is not registered.`,\n    'Enter a valid email address.': $localize`The email address is invalid.`,\n    invalid_partner_email: $localize`The email address is invalid for this partner.`,\n  },\n  password: {\n    password_is_alpha: $localize`Password must contain at least one number.`,\n    password_is_numeric: $localize`Password must contain at least one letter.`,\n    password_too_long: $localize`Password must contain at most 128 characters.`,\n    password_too_short: $localize`Password must contain at least 8 characters.`,\n    password_is_lower: $localize`Password must contain at least one uppercase letter.`,\n    password_has_space: $localize`Password must not contain spaces.`,\n    required: $localize`This field is required.`,\n  },\n  collegeCode: {\n    invalid: $localize`The college code is invalid.`,\n    required: $localize`This field is required.`,\n  },\n  first_name: {\n    required: $localize`This field is required.`,\n  },\n  last_name: {\n    required: $localize`This field is required.`,\n  },\n  __signin__: {\n    not_exists: $localize`Please fill in your email and password to sign in`,\n  },\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class FormsService {\n  /**\n   * @description: Constructeur.\n   */\n  constructor() {}\n\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   */\n  public hasError(httpResponse: any, inputName: string | undefined): boolean {\n    if (httpResponse === undefined) {\n      return false;\n    }\n\n    if (inputName === undefined) {\n      return false;\n    }\n    return (\n      httpResponse.form_error !== undefined &&\n      httpResponse.form_error[inputName] !== undefined\n    );\n  }\n\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   */\n  public notHasError(\n    httpResponse: any,\n    inputName: string | undefined\n  ): boolean {\n    return !this.hasError(httpResponse, inputName);\n  }\n\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   * @param httpResponse: any\n   * @param inputName: string | undefined\n   * @param traductor: any\n   */\n  public getErrorMsg(\n    httpResponse: any,\n    inputName: string | undefined\n  ): string | undefined {\n    if (this.notHasError(httpResponse, inputName)) {\n      return undefined;\n    }\n\n    if (inputName === undefined) {\n      return undefined;\n    }\n\n    const error = httpResponse.form_error[inputName][0];\n    const errorMsg = this.getErrorMsgDjango(error, inputName);\n    if (errorMsg === undefined) {\n      console.error(\"FORM-ERROR>>>>\", error);\n    }\n    return errorMsg;\n  }\n\n  /**\n   * @description: Retourne le message d'erreur associé à un champ de formulaire.\n   * @param httpResponse: any\n   * @param inputName: string | undefined\n   */\n  private getErrorMsgDjango(\n    error: string,\n    inputName: string\n  ): string | undefined {\n    if (FORM_DJANGO_TRADUCTOR.hasOwnProperty(inputName) === false) {\n      return undefined;\n    }\n\n    if (FORM_DJANGO_TRADUCTOR[inputName].hasOwnProperty(error) === false) {\n      return undefined;\n    }\n\n    return FORM_DJANGO_TRADUCTOR[inputName][error];\n  }\n\n  /**\n   * @description:  \n   */\n  public getInput(inputList: Array<ConfigInput>, input_name: string): ConfigInput | undefined{\n    for (let input of inputList) {\n      if (input.name === input_name) {\n        return input;\n      }\n    }\n    raise Exception(`Input ${input_name} not found`);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}